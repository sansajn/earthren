# About
Bunch of earth rendering and samples to create a program capable to render earth surface based on satelite data.

# How to build
Install dependencies with
```bash
sudo apt install libtiff-dev libmagick++-dev libtiff-dev
```
command and build with
```bash
scons -j8
```
command. We can optionally build specific sample with
```
scons -j8 SAMPLE-NAME
```
command (e.g. `scons -j8 height_sinxy`).

# Samples

## `height_sinxy`

`Height_sinxy` sample shows how to calculate terrain heights (z coordinate) for xy-axis quad. Heights are generated by $z=\sin(x) \cdot \sin(y)$ for $x,y \in [0, \pi]$ equation in a vertex shader program. Together with heights we calculate also normals for a directional light computing in a fragment shader program.

![](height_sinxy.png)

## `map_camera`

`Map_camera` sample shows orbital camera implementation allows to rotate around z-axis and x-axis with a mouse move. Sample is based on previous `xy_plane_grid_textured` sample.

![](map_camera.jpg)


## `xy_plane_grid_textured`

`Xy_plane_grid_textured.cpp` shows grid of xy_planes the same as previous `xy_plane_grid.cpp` sample but with a texture applied.

The problem there is that pane is not smooth it has a kind of momentum. Affected samples are `xy_plane_grid.cpp`, `xy_plane_grid` and `xy_plane_panzoom` samples.

Another issue is that it is hard to diagnose issues in a shader program, see issue 1.

ToDo:
- rewrite pan functionality
- use VAOs (see `map_camera` as an example)


Then next step is to implement a camera which would allow smooth pane and zoom. I would like to implement *Proland* like camera.

Then next step is to add heights, I need to figure out area for sample tiles (see `data/tiles`), download heights for that area and spit it to tiles. Then modify shader to add texture (ortho) based heights (in this step without any noise or upsampling).

## `xy_plane_grid`

Shows grid of xy_planes with a zoom and pane features. There is not any camera implementation there.

The problem there is that pane is not smooth it has a kind of momentum. Affected samples are `xy_plane_grid` and `xy_plane_panzoom` samples.

ToDo:
- rewrite pan functionality

Next step is to implement a grid of xy_planes rendered with a image inside (instead fixed color). To see how to render a image see `texture_storage` sample and how to render to a xy plane see `xy_plane_texture` sample.

Then Next step is to implement a camera which would allow smooth pane and zoom.

## `xy_plane_texture`

Shows how to render xy plane fillet with an image

Problems: 
	- we should use VAOs


## `texture_storage`

Shows how to render a picture to screen.

Issues:
- VAOs are used incorrect way in a sample, see `map_camera` sample to learn how to use it

## `xy_plane_panzoom`

xy plane with zoom and pane capabilities


## `xy_plane`

Just a simple red xy plane rendered.


# Code Formatting

Formatting source code is done by `.clang-format` configuration file. To see LLVM style defaults run 

```bash
clang-format -style=llvm -dump-config > .clang-format
```

command.
